"use strict";(self.webpackChunk_uniswap_interface=self.webpackChunk_uniswap_interface||[]).push([[2055],{10404:(e,n,t)=>{t.d(n,{Z:()=>u});var i=t(45779),r=t(68090),o=t.n(r);function s(){return s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},s.apply(this,arguments)}function l(e,n){if(null==e)return{};var t,i,r=function(e,n){if(null==e)return{};var t,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var a=(0,i.forwardRef)((function(e,n){var t=e.color,r=void 0===t?"currentColor":t,o=e.size,a=void 0===o?24:o,u=l(e,["color","size"]);return i.createElement("svg",s({ref:n,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),i.createElement("circle",{cx:"12",cy:"12",r:"10"}),i.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),i.createElement("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"}))}));a.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},a.displayName="AlertCircle";const u=a},79784:(e,n,t)=>{t.d(n,{Z:()=>u});var i=t(45779),r=t(68090),o=t.n(r);function s(){return s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},s.apply(this,arguments)}function l(e,n){if(null==e)return{};var t,i,r=function(e,n){if(null==e)return{};var t,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var a=(0,i.forwardRef)((function(e,n){var t=e.color,r=void 0===t?"currentColor":t,o=e.size,a=void 0===o?24:o,u=l(e,["color","size"]);return i.createElement("svg",s({ref:n,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),i.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))}));a.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},a.displayName="Minus";const u=a},57809:(e,n,t)=>{t.d(n,{Z:()=>u});var i=t(45779),r=t(68090),o=t.n(r);function s(){return s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},s.apply(this,arguments)}function l(e,n){if(null==e)return{};var t,i,r=function(e,n){if(null==e)return{};var t,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var a=(0,i.forwardRef)((function(e,n){var t=e.color,r=void 0===t?"currentColor":t,o=e.size,a=void 0===o?24:o,u=l(e,["color","size"]);return i.createElement("svg",s({ref:n,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},u),i.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),i.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))}));a.propTypes={color:o().string,size:o().oneOfType([o().string,o().number])},a.displayName="Plus";const u=a},21891:(e,n,t)=>{t.d(n,{Hn:()=>f,SO:()=>y,Vr:()=>v,g4:()=>h});var i=t(76078),r=t(20090),o=t(66650),s=t(26729),l=t(57852),a=t(95315),u=t(18569),c=(t(32682),t(45779)),d=t(70854),p=t(25302),m=t(71997);function y(e,n,t){const{chainId:i,provider:r}=(0,s.G)(),o=(0,l.Q2)();return(0,c.useMemo)((()=>(t??Object.keys(e).map((e=>parseInt(e))).filter((e=>o(e)))).reduce(((t,s)=>{const l=r&&i===s?r:o(s)?a.v[s]:void 0;return l&&(t[s]=(0,p.u)(e[s]??"",n,l)),t}),{})),[n,e,t,o,i,r])}function h(e){return y(i.NONFUNGIBLE_POSITION_MANAGER_ADDRESSES,r.abi,e)}function v(e){return y(i.MULTICALL_ADDRESSES,o.abi,e)}function f(e){var n;const t=(0,c.useMemo)((()=>{if(!e||!e.length)return[];const n=e.reduce(((e,{pool:{token0:n,token1:t}})=>(e[(0,m.x7)(n)]=(0,u.PT)(n),e[(0,m.x7)(t)]=(0,u.PT)(t),e)),{});return Object.values(n)}),[e]),{data:i,loading:r}=(0,d.SJT)({variables:{contracts:t},skip:!t.length}),o=(0,c.useMemo)((()=>{var e,n;return(null===(n=i)||void 0===n||null===(e=n.tokens)||void 0===e?void 0:e.reduce(((e,n)=>{var t,i,r,o;return n&&(e[(0,m.Ec)(n)]=null===(o=n.project)||void 0===o||null===(r=o.markets)||void 0===r||null===(i=r[0])||void 0===i||null===(t=i.price)||void 0===t?void 0:t.value),e}),{}))??{}}),[null===(n=i)||void 0===n?void 0:n.tokens]);return{priceMap:o,pricesLoading:r&&!i}}},94961:(e,n,t)=>{t.d(n,{Z:()=>a});var i=t(92936),r=t(76078),o=t(61592),s=t.n(o);const l=new r.Fraction(s().BigInt(1),s().BigInt(1e6));function a({currencyAmount:e,significantDigits:n=4}){return(0,i.jsx)(i.Fragment,{children:e.equalTo(s().BigInt(0))?"0":e.greaterThan(l)?e.toSignificant(n):`<${l.toSignificant(1)}`})}},8963:(e,n,t)=>{t.d(n,{Z:()=>l});var i=t(92936),r=t(14411);const o=r.default.button.withConfig({displayName:"MultiToggle__ToggleWrapper",componentId:"sc-6dfd833b-0"})`
  display: flex;
  align-items: center;
  width: ${({width:e})=>e??"100%"};
  padding: 1px;
  background: ${({theme:e})=>e.surface2};
  border-radius: 8px;
  border: ${({theme:e})=>"1px solid "+e.surface3};
  cursor: pointer;
  outline: none;
`,s=r.default.span.withConfig({displayName:"MultiToggle__ToggleElement",componentId:"sc-6dfd833b-1"})`
  display: flex;
  align-items: center;
  width: 100%;
  padding: 4px 0.5rem;
  border-radius: 6px;
  justify-content: center;
  height: 100%;
  background: ${({theme:e,isActive:n})=>n?e.surface1:"none"};
  color: ${({theme:e,isActive:n})=>n?e.neutral1:e.neutral3};
  font-size: ${({fontSize:e})=>e??"1rem"};
  font-weight: 535;
  white-space: nowrap;
  :hover {
    user-select: initial;
    color: ${({theme:e,isActive:n})=>n?e.neutral2:e.neutral3};
  }
`;function l({currencyA:e,currencyB:n,handleRateToggle:t}){var r,l;const a=null===(r=e)||void 0===r?void 0:r.wrapped,u=null===(l=n)||void 0===l?void 0:l.wrapped,c=a&&u&&a.sortsBefore(u);return a&&u?(0,i.jsx)("div",{style:{width:"fit-content",display:"flex",alignItems:"center"},onClick:t,children:(0,i.jsxs)(o,{width:"fit-content",children:[(0,i.jsx)(s,{isActive:c,fontSize:"12px",children:c?e.symbol:n.symbol}),(0,i.jsx)(s,{isActive:!c,fontSize:"12px",children:c?n.symbol:e.symbol})]})}):null}},55660:(e,n,t)=>{t.d(n,{$o:()=>x,AI:()=>g,Oh:()=>f,tK:()=>v});var i=t(51371),r=t(76078),o=t(87270),s=t(21651),l=t(21891),a=t(61592),u=t.n(a),c=t(84938),d=t(45779),p=t(72993);function m(e,n,t,i,r,o,s){try{var l=e[o](s),a=l.value}catch(u){return void t(u)}l.done?n(a):Promise.resolve(a).then(i,r)}const y=new i.vU(o.Mt);let h=class{static MAX_ENTRIES=128;static pools=[];static addresses=[];static getPoolAddress(e,n,t,i){this.addresses.length>this.MAX_ENTRIES&&(this.addresses=this.addresses.slice(0,this.MAX_ENTRIES/2));const{address:r}=n,{address:o}=t,l=`${e}:${r}:${o}:${i.toString()}`,a=this.addresses.find((e=>e.key===l));if(a)return a.address;const u={key:l,address:(0,s.computePoolAddress)({factoryAddress:e,tokenA:n,tokenB:t,fee:i})};return this.addresses.unshift(u),u.address}static getPool(e,n,t,i,r,o){this.pools.length>this.MAX_ENTRIES&&(this.pools=this.pools.slice(0,this.MAX_ENTRIES/2));const l=this.pools.find((s=>s.token0===e&&s.token1===n&&s.fee===t&&u().EQ(s.sqrtRatioX96,i)&&u().EQ(s.liquidity,r)&&s.tickCurrent===o));if(l)return l;const a=new s.Pool(e,n,t,i,r,o);return this.pools.unshift(a),a}};var v;function f(e){const n=(0,p.x)(),t=(0,d.useMemo)((()=>n?e.map((([e,n,t])=>{if(e&&n&&t){const i=e.wrapped,r=n.wrapped;if(i.equals(r))return;return i.sortsBefore(r)?[i,r,t]:[r,i,t]}})):new Array(e.length)),[n,e]),i=(0,d.useMemo)((()=>{const e=n&&r.V3_CORE_FACTORY_ADDRESSES[n];return e?t.map((n=>n&&h.getPoolAddress(e,...n))):new Array(t.length)}),[n,t]),o=(0,c._Y)(i,y,"slot0"),s=(0,c._Y)(i,y,"liquidity");return(0,d.useMemo)((()=>e.map(((e,n)=>{const i=t[n];if(!i)return[v.INVALID,null];const[r,l,a]=i;if(!o[n])return[v.INVALID,null];const{result:u,loading:c,valid:d}=o[n];if(!s[n])return[v.INVALID,null];const{result:p,loading:m,valid:y}=s[n];if(!i||!d||!y)return[v.INVALID,null];if(c||m)return[v.LOADING,null];if(!u||!p)return[v.NOT_EXISTS,null];if(!u.sqrtPriceX96||u.sqrtPriceX96.eq(0))return[v.NOT_EXISTS,null];try{const e=h.getPool(r,l,a,u.sqrtPriceX96,p[0],u.tick);return[v.EXISTS,e]}catch(f){return console.error("Error when constructing the pool",f),[v.NOT_EXISTS,null]}}))),[s,e,o,t])}function g(e,n,t){return f((0,d.useMemo)((()=>[[e,n,t]]),[e,n,t]))[0]}function x(e,n,t,i){const a=(0,d.useRef)([v.LOADING,null]),u=e&&n&&t?h.getPoolAddress(r.V3_CORE_FACTORY_ADDRESSES[i],e,n,t):void 0,c=(0,d.useMemo)((()=>u?{[i]:u}:{}),[i,u]),p=(0,l.SO)(c,o.Mt)[i];return(0,d.useEffect)((()=>{function i(){var r;return r=function*(){try{if(!e||!n||!t||!u||!p)return void(a.current=[v.INVALID,null]);const i=yield p.slot0(),r=yield p.liquidity();a.current=[v.NOT_EXISTS,null];const o=new s.Pool(e,n,t,i.sqrtPriceX96.toString(),r.toString(),i.tick);a.current=[v.EXISTS,o]}catch(i){a.current=[v.INVALID,null]}},i=function(){var e=this,n=arguments;return new Promise((function(t,i){var o=r.apply(e,n);function s(e){m(o,t,i,s,l,"next",e)}function l(e){m(o,t,i,s,l,"throw",e)}s(void 0)}))},i.apply(this,arguments)}!function(){i.apply(this,arguments)}()}),[p,t,u,e,n]),a.current}!function(e){e[e.LOADING=0]="LOADING",e[e.NOT_EXISTS=1]="NOT_EXISTS",e[e.EXISTS=2]="EXISTS",e[e.INVALID=3]="INVALID"}(v||(v={}))},56331:(e,n,t)=>{t.d(n,{p:()=>I});var i,r=t(46854),o=t(76078),s=t(61592),l=t.n(s),a=t(84938),u=t(45779),c=t(16449),d=t(590),p=t(64370),m=t(7151),y=t(69583);function h(e,n,t,i,r,o,s){try{var l=e[o](s),a=l.value}catch(u){return void t(u)}l.done?n(a):Promise.resolve(a).then(i,r)}!function(e){e[e.AMOUNT=1]="AMOUNT",e[e.ALLOWED=2]="ALLOWED"}(i||(i={}));const v=1200,f={[o.ChainId.MAINNET]:{[p.Hz.address]:{type:i.AMOUNT,name:"USD Coin",version:"2"},[p.h1.address]:{type:i.ALLOWED,name:"Dai Stablecoin",version:"1"},[p.yg[o.ChainId.MAINNET].address]:{type:i.AMOUNT,name:"Uniswap"}},[o.ChainId.GOERLI]:{[p.yg[o.ChainId.GOERLI].address]:{type:i.AMOUNT,name:"Uniswap"}},[o.ChainId.SEPOLIA]:{[p.yg[o.ChainId.SEPOLIA].address]:{type:i.AMOUNT,name:"Uniswap"}}};var g;!function(e){e[e.NOT_APPLICABLE=0]="NOT_APPLICABLE",e[e.LOADING=1]="LOADING",e[e.NOT_SIGNED=2]="NOT_SIGNED",e[e.SIGNED=3]="SIGNED"}(g||(g={}));const x=[{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],T=[{name:"name",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"}],j=[{name:"owner",type:"address"},{name:"spender",type:"address"},{name:"value",type:"uint256"},{name:"nonce",type:"uint256"},{name:"deadline",type:"uint256"}],S=[{name:"holder",type:"address"},{name:"spender",type:"address"},{name:"nonce",type:"uint256"},{name:"expiry",type:"uint256"},{name:"allowed",type:"bool"}];function b(e,n,t,o){var s,p,b;const w=(0,d.m)(),A=(0,c.n)(),I=(null===(p=e)||void 0===p||null===(s=p.currency)||void 0===s?void 0:s.isToken)?e.currency.address:void 0,k=(0,m.N9)(I),O=(0,y.Z)(),E=(0,u.useMemo)((()=>[w.address??void 0]),[w.address]),D=(0,a.Wk)(k,"nonces",E),P=o??("connected"===w.status&&I?null===(b=f[w.chainId])||void 0===b?void 0:b[I]:void 0),[L,C]=(0,u.useState)(null);return(0,u.useMemo)((()=>{var o,s;if(O||!e||!k||"connected"!==w.status||!t||!A||!D.valid||!I||!n||!P)return{state:g.NOT_APPLICABLE,signatureData:null,gatherPermitSignature:null};const a=null===(s=D.result)||void 0===s||null===(o=s[0])||void 0===o?void 0:o.toNumber();if(D.loading||"number"!==typeof a)return{state:g.LOADING,signatureData:null,gatherPermitSignature:null};const u=L&&L.owner===w.address&&L.deadline>=t.toNumber()&&L.tokenAddress===I&&L.nonce===a&&L.spender===n&&("allowed"in L||l().greaterThanOrEqual(l().BigInt(L.amount),e.quotient));return{state:u?g.SIGNED:g.NOT_SIGNED,signatureData:u?L:null,gatherPermitSignature:function(){var o,s=(o=function*(){const o=P.type===i.ALLOWED,s=t.toNumber()+v,l=e.quotient.toString(),u=o?{holder:w.address,spender:n,allowed:o,nonce:a,expiry:s}:{owner:w.address,spender:n,value:l,nonce:a,deadline:s},c=P.version?{name:P.name,version:P.version,verifyingContract:I,chainId:w.chainId}:{name:P.name,verifyingContract:I,chainId:w.chainId},d=JSON.stringify({types:{EIP712Domain:P.version?x:T,Permit:o?S:j},domain:c,primaryType:"Permit",message:u});return A.send("eth_signTypedData_v4",[w.address,d]).then(r.splitSignature).then((e=>{C({v:e.v,r:e.r,s:e.s,deadline:s,...o?{allowed:o}:{amount:l},nonce:a,chainId:w.chainId,owner:w.address,spender:n,tokenAddress:I,permitType:P.type})}))},function(){var e=this,n=arguments;return new Promise((function(t,i){var r=o.apply(e,n);function s(e){h(r,t,i,s,l,"next",e)}function l(e){h(r,t,i,s,l,"throw",e)}s(void 0)}))});return function(){return s.apply(this,arguments)}}()}}),[O,e,k,w.status,w.address,w.chainId,t,A,D.valid,D.result,D.loading,I,n,P,L])}var w=t(4650);const A={version:"1",name:"Uniswap V2",type:i.AMOUNT};function I(e,n){return b(e,n,(0,w.Z)(),A)}},29477:(e,n,t)=>{t.r(n),t.d(n,{default:()=>ye});var i=t(92936),r=t(5985),o=t(76078),s=t(21651),l=t(26729),a=t(47583),u=t(61077),c=t(69780),d=t(61182),p=t(89482),m=t(29165),y=t(8963),h=t(60281),v=t(26073),f=t(56536),g=t(29025),x=t(81069),T=t(55660),j=t(4650),S=t(56331),b=t(6823),w=t(61592),A=t.n(w),I=t(84938),k=t(45779),O=t(4168),E=t(10404),D=t(57221),P=t(6282),L=t(47856),C=t(31744),M=t(56360),N=t(99454),q=t(28098),R=t(14411),z=t(75082),B=t(5347),$=t(47841),_=t(5931),U=t(13446),G=t(58061),X=t(44591),F=t(94961),V=t(5967),W=t(94284),Z=t(64370),Y=t(39671),H=t(7151),Q=t(69583),J=t(83416),K=t(73720),ee=t(47186),ne=t(54972),te=t(64510),ie=t(17202),re=t(54703),oe=t(65118);function se(e,n,t,i,r,o,s){try{var l=e[o](s),a=l.value}catch(u){return void t(u)}l.done?n(a):Promise.resolve(a).then(i,r)}function le(e){return function(){var n=this,t=arguments;return new Promise((function(i,r){var o=e.apply(n,t);function s(e){se(o,i,r,s,l,"next",e)}function l(e){se(o,i,r,s,l,"throw",e)}s(void 0)}))}}const ae=A().BigInt(0),ue=new o.Percent(75,1e4);function ce({message:e}){return(0,i.jsx)(X.Tz,{style:{minHeight:200,justifyContent:"center",alignItems:"center"},children:(0,i.jsx)(ne.Tv.DeprecatedBody,{children:e})})}function de({token0Amount:e,token1Amount:n}){const t=(0,B.B)(e.currency),r=(0,B.B)(n.currency);return(0,i.jsxs)(X.Tz,{gap:"sm",children:[(0,i.jsxs)(W.m0,{children:[(0,i.jsxs)(W.DA,{children:[(0,i.jsx)(V.Z,{size:20,style:{marginRight:"8px"},currency:t}),(0,i.jsx)(_.xv,{fontSize:16,fontWeight:"$medium",children:t.symbol})]}),(0,i.jsx)(_.xv,{fontSize:16,fontWeight:"$medium",children:(0,i.jsx)(F.Z,{currencyAmount:e})})]}),(0,i.jsxs)(W.m0,{children:[(0,i.jsxs)(W.DA,{children:[(0,i.jsx)(V.Z,{size:20,style:{marginRight:"8px"},currency:r}),(0,i.jsx)(_.xv,{fontSize:16,fontWeight:"$medium",children:r.symbol})]}),(0,i.jsx)(_.xv,{fontSize:16,fontWeight:"$medium",children:(0,i.jsx)(F.Z,{currencyAmount:n})})]})]})}const pe=100;function me({pair:e,pairBalance:n,totalSupply:t,reserve0:h,reserve1:w,token0:P,token1:L}){var U,G,F,V,Y,J,K,oe,se,ce,me,ye,he,ve,fe,ge,xe,Te,je,Se,be,we,Ae;const{chainId:Ie,account:ke}=(0,l.G)(),Oe=(0,R.useTheme)(),Ee=Ie?o.V2_FACTORY_ADDRESSES[Ie]:void 0,De=(0,a.oO)(),Pe=(0,I.Wk)(e,"factory"),Le=(null===(U=Pe.result)||void 0===U?void 0:U[0])&&Pe.result[0]!==Ee,Ce=(0,j.n)(),Me=(0,q.eq)(ue),Ne=(0,B.B)(P),qe=(0,B.B)(L),Re=(0,k.useMemo)((()=>o.CurrencyAmount.fromRawAmount(P,A().divide(A().multiply(n.quotient,h.quotient),t.quotient))),[P,n,h,t]),ze=(0,k.useMemo)((()=>o.CurrencyAmount.fromRawAmount(L,A().divide(A().multiply(n.quotient,w.quotient),t.quotient))),[L,n,w,t]),[Be,$e]=(0,k.useState)(s.FeeAmount.MEDIUM),[_e,Ue]=(0,T.AI)(P,L,Be),Ge=_e===T.tK.NOT_EXISTS,Xe=(0,k.useMemo)((()=>new o.Price(P,L,h.quotient,w.quotient)),[P,L,h,w]),Fe=_e===T.tK.EXISTS?null===(G=Ue)||void 0===G?void 0:G.token0Price:void 0;let Ve=Xe&&Fe?Fe.divide(Xe).subtract(1).multiply(100):void 0;(null===(F=Ve)||void 0===F?void 0:F.lessThan(ae))&&(Ve=Ve.multiply(-1));const We=Ve&&!(null===(V=Ve)||void 0===V?void 0:V.lessThan(A().BigInt(2))),[Ze,Ye]=(0,k.useState)(P),{ticks:He,pricesAtTicks:Qe,invertPrice:Je,invalidRange:Ke,outOfRange:en,ticksAtLimit:nn}=(0,M.m2)(P,L,Be,Ze),{[C.Mb.LOWER]:tn,[C.Mb.UPPER]:rn}=He,{[C.Mb.LOWER]:on,[C.Mb.UPPER]:sn}=Qe,{getDecrementLower:ln,getIncrementLower:an,getDecrementUpper:un,getIncrementUpper:cn}=(0,M.a6)(Ze,Ze.equals(P)?L:P,Be,tn,rn),{onLeftRangeInput:dn,onRightRangeInput:pn}=(0,M.EG)(Ge),mn=(null===(Y=Ue)||void 0===Y?void 0:Y.tickCurrent)??(0,s.priceToClosestTick)(Xe),yn=(null===(J=Ue)||void 0===J?void 0:J.sqrtRatioX96)??s.TickMath.getSqrtRatioAtTick(mn),hn="number"!==typeof tn||"number"!==typeof rn||Ke?void 0:s.Position.fromAmounts({pool:Ue??new s.Pool(P,L,Be,yn,0,mn,[]),tickLower:tn,tickUpper:rn,amount0:Re.quotient,amount1:ze.quotient,useFullPrecision:!0}),{amount0:vn,amount1:fn}=(0,k.useMemo)((()=>hn?hn.mintAmountsWithSlippage(Me):{amount0:void 0,amount1:void 0}),[hn,Me]),gn=(0,k.useMemo)((()=>hn&&o.CurrencyAmount.fromRawAmount(P,A().subtract(Re.quotient,hn.amount0.quotient))),[Re,hn,P]),xn=(0,k.useMemo)((()=>hn&&o.CurrencyAmount.fromRawAmount(L,A().subtract(ze.quotient,hn.amount1.quotient))),[ze,hn,L]),[Tn,jn]=(0,k.useState)(!1),[Sn,bn]=(0,k.useState)(null),wn=(0,H.mq)(),[An,In]=(0,g.q)(n,null===(K=wn)||void 0===K?void 0:K.address),{signatureData:kn,gatherPermitSignature:On}=(0,S.p)(n,null===(oe=wn)||void 0===oe?void 0:oe.address),En=(0,Q.Z)(),Dn=(0,k.useCallback)(le((function*(){if(Le||En)yield In();else if(On)try{yield On()}catch(n){var e;4001!==(null===(e=n)||void 0===e?void 0:e.code)&&(yield In())}else yield In()})),[Le,En,On,In]),Pn=(0,N.h7)(),Ln=(0,N.ub)(Sn??void 0),Cn=(0,x.G)(),Mn=(0,k.useCallback)(le((function*(){var t;if(!wn||!ke||"number"!==typeof tn||"number"!==typeof rn||!vn||!fn||!Ie||!Cn)return;const i=(null===(t=kn)||void 0===t?void 0:t.deadline)??(yield Ce());if(!i)throw new Error("could not get deadline");const o=[];kn&&o.push(wn.interface.encodeFunctionData("selfPermit",[e.address,`0x${n.quotient.toString(16)}`,i,kn.v,kn.r,kn.s])),Ge&&o.push(wn.interface.encodeFunctionData("createAndInitializePoolIfNecessary",[P.address,L.address,Be,`0x${yn.toString(16)}`])),o.push(wn.interface.encodeFunctionData("migrate",[{pair:e.address,liquidityToMigrate:`0x${n.quotient.toString(16)}`,percentageToMigrate:pe,token0:P.address,token1:L.address,fee:Be,tickLower:tn,tickUpper:rn,amount0Min:`0x${vn.toString(16)}`,amount1Min:`0x${fn.toString(16)}`,recipient:ke,deadline:i,refundAsETH:!0}])),jn(!0),wn.estimateGas.multicall(o).then((e=>wn.multicall(o,{gasLimit:(0,te.y)(e)}).then((e=>{(0,a._P)(r.vp.MIGRATE_LIQUIDITY_SUBMITTED,{action:`${Le?r.GM.SUSHISWAP:r.GM.V2}->${r.GM.V3}`,label:`${Ne.symbol}/${qe.symbol}`,...De}),Pn(e,{type:ee.i.MIGRATE_LIQUIDITY_V3,baseCurrencyId:(0,ie.H)(Ne),quoteCurrencyId:(0,ie.H)(qe),isFork:Le}),bn(e.hash)})))).catch((()=>{jn(!1)}))})),[wn,ke,tn,rn,vn,fn,Ie,Cn,kn,Ce,Ge,e.address,n.quotient,P.address,L.address,Be,yn,Le,Ne,qe,De,Pn]),Nn=!!Sn&&A().equal(n.quotient,ae);return Cn?(0,i.jsxs)(X.Tz,{gap:"20px",children:[(0,i.jsxs)(ne.Tv.DeprecatedBody,{my:9,style:{fontWeight:485,textAlign:"center"},children:[(0,i.jsxs)(b.cC,{children:["This tool will safely migrate your ",{noun:Le?"SushiSwap":"V2"}," liquidity to V3. The process is completely trustless thanks to the"]})," ",Ie&&wn&&(0,i.jsx)(ne.dL,{href:(0,re.E)(Ie,wn.address,re.r.ADDRESS),children:(0,i.jsxs)(_.xv,{color:"$accent1",display:"inline",children:[(0,i.jsx)(b.cC,{children:"Uniswap migration contract"})," \u2197"]})}),"."]}),(0,i.jsx)(d.hl,{children:(0,i.jsxs)(X.Tz,{gap:"lg",children:[(0,i.jsxs)(W.m0,{children:[(0,i.jsxs)(W.DA,{style:{marginLeft:"8px"},children:[(0,i.jsx)($.ge,{currencies:[Ne,qe],size:20}),(0,i.jsx)(ne.Tv.DeprecatedMediumHeader,{style:{marginLeft:"8px"},children:(0,i.jsxs)(b.cC,{children:[{symA:Ne.symbol},"/",{symB:qe.symbol}," LP Tokens"]})})]}),(0,i.jsx)(u.Z,{children:Le?"Sushi":"V2"})]}),(0,i.jsx)(de,{token0Amount:Re,token1Amount:ze})]})}),(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,i.jsx)(O.Z,{size:24})}),(0,i.jsx)(d.hl,{children:(0,i.jsxs)(X.Tz,{gap:"lg",children:[(0,i.jsxs)(W.m0,{children:[(0,i.jsxs)(W.DA,{style:{marginLeft:"8px"},children:[(0,i.jsx)($.ge,{currencies:[Ne,qe],size:20}),(0,i.jsx)(ne.Tv.DeprecatedMediumHeader,{style:{marginLeft:"8px"},children:(0,i.jsxs)(b.cC,{children:[{symA:Ne.symbol},"/",{symB:qe.symbol}," LP NFT"]})})]}),(0,i.jsx)(u.Z,{children:"V3"})]}),(0,i.jsx)(p.Z,{feeAmount:Be,handleFeePoolSelect:$e}),Ge&&(0,i.jsxs)(d.Pj,{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,i.jsx)(E.Z,{color:Oe.neutral1,style:{marginBottom:"12px",opacity:.8}}),(0,i.jsx)(ne.Tv.DeprecatedBody,{fontSize:14,style:{marginBottom:8,fontWeight:535,opacity:.8},textAlign:"center",children:(0,i.jsxs)(b.cC,{children:["You are the first liquidity provider for this Uniswap V3 pool. Your liquidity will migrate at the current ",{name:Le?"SushiSwap":"V2"}," price."]})}),(0,i.jsx)(ne.Tv.DeprecatedBody,{fontWeight:"$medium",textAlign:"center",fontSize:14,style:{marginTop:"8px",opacity:.8},children:(0,i.jsx)(b.cC,{children:"Your transaction cost will be much higher as it includes the gas to create the pool."})}),Xe&&(0,i.jsx)(X.Tz,{gap:"sm",style:{marginTop:"12px"},children:(0,i.jsx)(W.m0,{children:(0,i.jsxs)(ne.Tv.DeprecatedBody,{fontWeight:535,fontSize:14,children:[(0,i.jsxs)(b.cC,{children:[{name:{name:Le?"SushiSwap":"V2"}}," ",{sym:Je?qe.symbol:Ne.symbol}," Price:"]})," ",Je?`${null===(ce=Xe)||void 0===ce||null===(se=ce.invert())||void 0===se?void 0:se.toSignificant(6)} ${Ne.symbol}`:`${null===(me=Xe)||void 0===me?void 0:me.toSignificant(6)} ${qe.symbol}`]})})})]}),We?(0,i.jsxs)(d.U2,{children:[(0,i.jsxs)(X.Tz,{gap:"sm",children:[(0,i.jsxs)(W.m0,{children:[(0,i.jsx)(ne.Tv.DeprecatedBody,{fontSize:14,children:(0,i.jsxs)(b.cC,{children:[{name:Le?"SushiSwap":"V2"}," ",{sym:Je?qe.symbol:Ne.symbol}," Price:"]})}),(0,i.jsx)(ne.Tv.DeprecatedBlack,{fontSize:14,children:Je?`${null===(he=Xe)||void 0===he||null===(ye=he.invert())||void 0===ye?void 0:ye.toSignificant(6)} ${Ne.symbol}`:`${null===(ve=Xe)||void 0===ve?void 0:ve.toSignificant(6)} ${qe.symbol}`})]}),(0,i.jsxs)(W.m0,{children:[(0,i.jsxs)(ne.Tv.DeprecatedBody,{fontSize:14,children:["V3 ",Je?qe.symbol:Ne.symbol," ",(0,b.t)("Price"),":"]}),(0,i.jsx)(ne.Tv.DeprecatedBlack,{fontSize:14,children:Je?`${null===(ge=Fe)||void 0===ge||null===(fe=ge.invert())||void 0===fe?void 0:fe.toSignificant(6)} ${Ne.symbol}`:`${null===(xe=Fe)||void 0===xe?void 0:xe.toSignificant(6)} ${qe.symbol}`})]}),(0,i.jsxs)(W.m0,{children:[(0,i.jsx)(ne.Tv.DeprecatedBody,{fontSize:14,color:"inherit",children:(0,i.jsx)(b.cC,{children:"Price difference:"})}),(0,i.jsxs)(ne.Tv.DeprecatedBlack,{fontSize:14,color:"inherit",children:[null===(Te=Ve)||void 0===Te?void 0:Te.toSignificant(4),"%"]})]})]}),(0,i.jsx)(ne.Tv.DeprecatedBody,{fontSize:14,style:{marginTop:8,fontWeight:485},children:(0,i.jsxs)(b.cC,{children:["You should only deposit liquidity into Uniswap V3 at a price you believe is correct. ",(0,i.jsx)("br",{}),"If the price seems incorrect, you can either make a swap to move the price or wait for someone else to do so."]})})]}):!Ge&&Fe?(0,i.jsxs)(W.m0,{children:[(0,i.jsx)(ne.Tv.DeprecatedBody,{fontSize:14,children:(0,i.jsxs)(b.cC,{children:["V3 ",{sym:Je?qe.symbol:Ne.symbol}," Price:"]})}),(0,i.jsx)(ne.Tv.DeprecatedBlack,{fontSize:14,children:Je?`${null===(Se=Fe)||void 0===Se||null===(je=Se.invert())||void 0===je?void 0:je.toSignificant(6)} ${Ne.symbol}`:`${null===(be=Fe)||void 0===be?void 0:be.toSignificant(6)} ${qe.symbol}`})]}):null,(0,i.jsxs)(W.m0,{children:[(0,i.jsx)(ne.Tv.DeprecatedLabel,{children:(0,i.jsx)(b.cC,{children:"Set price range"})}),(0,i.jsx)(y.Z,{currencyA:Je?qe:Ne,currencyB:Je?Ne:qe,handleRateToggle:()=>{dn(""),pn(""),Ye((e=>e.equals(P)?L:P))}})]}),(0,i.jsx)(m.Z,{priceLower:on,priceUpper:sn,getDecrementLower:ln,getIncrementLower:an,getDecrementUpper:un,getIncrementUpper:cn,onLeftRangeInput:dn,onRightRangeInput:pn,currencyA:Je?qe:Ne,currencyB:Je?Ne:qe,feeAmount:Be,ticksAtLimit:nn}),en?(0,i.jsx)(d.U2,{padding:"8px 12px",$borderRadius:"12px",children:(0,i.jsxs)(W.m0,{children:[(0,i.jsx)(D.Z,{stroke:Oe.deprecated_yellow3,size:"16px"}),(0,i.jsx)(_.xv,{color:"$yellow600",ml:12,fontSize:12,children:(0,i.jsx)(b.cC,{children:"Your position will not earn fees or be used in trades until the market price moves into your range."})})]})}):null,Ke?(0,i.jsx)(d.U2,{padding:"8px 12px",$borderRadius:"12px",children:(0,i.jsxs)(W.m0,{children:[(0,i.jsx)(D.Z,{stroke:Oe.deprecated_yellow3,size:"16px"}),(0,i.jsx)(_.xv,{color:"$",ml:12,fontSize:12,children:(0,i.jsx)(b.cC,{children:"Invalid range selected. The min price must be lower than the max price."})})]})}):null,hn?(0,i.jsx)(d.OY,{children:(0,i.jsxs)(X.Tz,{gap:"md",children:[(0,i.jsx)(de,{token0Amount:hn.amount0,token1Amount:hn.amount1}),Ie&&gn&&xn?(0,i.jsx)(ne.Tv.DeprecatedBlack,{fontSize:12,children:(0,i.jsxs)(b.cC,{children:["At least ",{amtA:(0,z.Z)(gn,4)}," ",{symA:Ie&&(null===(we=Z.Fl[Ie])||void 0===we?void 0:we.equals(P))?"ETH":P.symbol}," ","and ",{amtB:(0,z.Z)(xn,4)}," ",{symB:Ie&&(null===(Ae=Z.Fl[Ie])||void 0===Ae?void 0:Ae.equals(L))?"ETH":L.symbol}," ","will be refunded to your wallet due to selected price range."]})}):null]})}):null,(0,i.jsxs)(X.Tz,{gap:"md",children:[Nn||Ln?null:(0,i.jsx)(X.Tz,{gap:"md",style:{flex:"1"},children:(0,i.jsx)(c.gn,{disabled:An!==g.U.NOT_APPROVED||null!==kn||!vn||!fn||Ke||Tn,onClick:Dn,children:An===g.U.PENDING?(0,i.jsx)(f.bb,{children:(0,i.jsx)(b.cC,{children:"Approving"})}):An===g.U.APPROVED||null!==kn?(0,i.jsx)(b.cC,{children:"Allowed"}):(0,i.jsx)(b.cC,{children:"Allow LP token migration"})})}),(0,i.jsx)(X.Tz,{gap:"md",style:{flex:"1"},children:(0,i.jsx)(c.gn,{confirmed:Nn,disabled:!vn||!fn||Ke||An!==g.U.APPROVED&&null===kn||Tn||Ln||Nn,onClick:Mn,children:Nn?"Success!":Ln?(0,i.jsx)(f.bb,{children:(0,i.jsx)(b.cC,{children:"Migrating"})}):(0,i.jsx)(b.cC,{children:"Migrate"})})})]})]})})]}):(0,i.jsx)(v.A,{})}function ye(){var e,n,t,r,s,a,u,c;const{address:d}=(0,P.UO)(),p=(0,L.T)();(0,k.useEffect)((()=>(p((0,C.dA)()),()=>{p((0,C.dA)())})),[p]);const{chainId:m,account:y}=(0,l.G)(),v=(0,U.UJ)(d),f=(0,H.t0)(v||void 0),g=(0,I.Wk)(f,"token0",void 0,I.DB),x=null===(n=g)||void 0===n||null===(e=n.result)||void 0===e?void 0:e[0],T=null===(r=(0,I.Wk)(f,"token1",void 0,I.DB))||void 0===r||null===(t=r.result)||void 0===t?void 0:t[0],j=(0,Y.dQ)(x),S=(0,Y.dQ)(T),w=(0,k.useMemo)((()=>m&&v?new o.Token(m,v,18):void 0),[m,v]),A=(0,K.mM)(y??void 0,w),O=(0,J.A)(w),[E,D]=(null===(s=(0,I.Wk)(f,"getReserves"))||void 0===s?void 0:s.result)??[],M=(0,k.useMemo)((()=>j&&E?o.CurrencyAmount.fromRawAmount(j,E):void 0),[j,E]),N=(0,k.useMemo)((()=>S&&D?o.CurrencyAmount.fromRawAmount(S,D):void 0),[S,D]);return v&&f&&(!f||!(null===(a=g)||void 0===a?void 0:a.valid)||(null===(u=g)||void 0===u?void 0:u.loading)||(null===(c=g)||void 0===c?void 0:c.error)||x)?(0,i.jsx)(oe.e,{style:{padding:24},children:(0,i.jsxs)(X.Tz,{gap:"16px",children:[(0,i.jsxs)(W.BA,{style:{alignItems:"center",justifyContent:"space-between"},gap:"8px",children:[(0,i.jsx)(ne.Qb,{to:"/migrate/v2"}),(0,i.jsx)(G.MigrateHeader,{children:(0,i.jsx)(b.cC,{children:"Migrate V2 liquidity"})}),(0,i.jsx)(h.Z,{autoSlippage:ue,chainId:m,hideRoutingSettings:!0})]}),y?A&&O&&M&&N&&j&&S?(0,i.jsx)(me,{pair:f,pairBalance:A,totalSupply:O,reserve0:M,reserve1:N,token0:j,token1:S}):(0,i.jsx)(ce,{message:(0,i.jsx)(b.cC,{children:"Loading"})}):(0,i.jsx)(ne.Tv.DeprecatedLargeHeader,{children:(0,i.jsx)(b.cC,{children:"You must connect an account."})})]})}):(console.error("Invalid pair address"),(0,i.jsx)(P.Fg,{to:"/migrate/v2",replace:!0}))}},71997:(e,n,t)=>{t.d(n,{Ec:()=>a,mn:()=>s,x7:()=>l});var i=t(64370),r=t(18569),o=t(70854);function s(e,n){return`${e}-${n.toLowerCase()}`}function l(e){return s(e.chainId,e.isToken?e.address:i.dt)}function a(e){const n=(0,r.Tz)(e.chain),t=e.standard===o.Yn6.Native?i.dt:e.address;if(!t)throw new Error("Non-native token missing address");if(!n)throw new Error("Unsupported chain from pools query");return s(n,t)}},75082:(e,n,t)=>{t.d(n,{Z:()=>a});var i=t(76078),r=t(34342),o=t(61592),s=t.n(o);function l({number:e,locale:n,sigFigs:t,fixedDecimals:i,options:o={}}){let s,l;if(s=!n||n&&!r.RF.includes(n)?r.ZW:[n,r.ZW],o.minimumFractionDigits=o.minimumFractionDigits||i,o.maximumFractionDigits=o.maximumFractionDigits||i,o.maximumSignificantDigits=o.maximumSignificantDigits||i?void 0:t,"number"===typeof e)l=i?parseFloat(e.toFixed(i)):e;else{const n=parseFloat(e.toSignificant(t));l=i?parseFloat(n.toFixed(i)):n}return l.toLocaleString(s,o)}function a(e,n,t=r.ZW,o){return e?s().equal(e.quotient,s().BigInt(0))?"0":e.divide(e.decimalScale).lessThan(new i.Fraction(1,1e5))?`<${l({number:1e-5,locale:t})}`:l({number:e,locale:t,sigFigs:n,fixedDecimals:o}):"-"}},87270:e=>{e.exports=JSON.parse('{"Mt":[{"inputs":[],"name":"feeGrowthGlobal0X128","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"feeGrowthGlobal1X128","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"liquidity","outputs":[{"internalType":"uint128","name":"","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"index","type":"uint256"}],"name":"observations","outputs":[{"internalType":"uint32","name":"blockTimestamp","type":"uint32"},{"internalType":"int56","name":"tickCumulative","type":"int56"},{"internalType":"uint160","name":"secondsPerLiquidityCumulativeX128","type":"uint160"},{"internalType":"bool","name":"initialized","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"key","type":"bytes32"}],"name":"positions","outputs":[{"internalType":"uint128","name":"_liquidity","type":"uint128"},{"internalType":"uint256","name":"feeGrowthInside0LastX128","type":"uint256"},{"internalType":"uint256","name":"feeGrowthInside1LastX128","type":"uint256"},{"internalType":"uint128","name":"tokensOwed0","type":"uint128"},{"internalType":"uint128","name":"tokensOwed1","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"protocolFees","outputs":[{"internalType":"uint128","name":"token0","type":"uint128"},{"internalType":"uint128","name":"token1","type":"uint128"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"slot0","outputs":[{"internalType":"uint160","name":"sqrtPriceX96","type":"uint160"},{"internalType":"int24","name":"tick","type":"int24"},{"internalType":"uint16","name":"observationIndex","type":"uint16"},{"internalType":"uint16","name":"observationCardinality","type":"uint16"},{"internalType":"uint16","name":"observationCardinalityNext","type":"uint16"},{"internalType":"uint8","name":"feeProtocol","type":"uint8"},{"internalType":"bool","name":"unlocked","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"int16","name":"wordPosition","type":"int16"}],"name":"tickBitmap","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"int24","name":"tick","type":"int24"}],"name":"ticks","outputs":[{"internalType":"uint128","name":"liquidityGross","type":"uint128"},{"internalType":"int128","name":"liquidityNet","type":"int128"},{"internalType":"uint256","name":"feeGrowthOutside0X128","type":"uint256"},{"internalType":"uint256","name":"feeGrowthOutside1X128","type":"uint256"},{"internalType":"int56","name":"tickCumulativeOutside","type":"int56"},{"internalType":"uint160","name":"secondsPerLiquidityOutsideX128","type":"uint160"},{"internalType":"uint32","name":"secondsOutside","type":"uint32"},{"internalType":"bool","name":"initialized","type":"bool"}],"stateMutability":"view","type":"function"}]}')}}]);
//# sourceMappingURL=2055.78374823.chunk.js.map